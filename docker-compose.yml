services:
    
        
    otel-collector:
      image: otel/opentelemetry-collector-contrib:0.117.0
      command: ["--config=/etc/otel-collector.yaml"]
      volumes:
        - ./otel-collector.yaml:/etc/otel-collector.yaml
      ports:
        - "4317:4317" # OTLP gRPC
        - "4318:4318" # OTLP HTTP
        
    loki:
        image: grafana/loki:2.9.0
        command: -config.file=/etc/loki/local-config.yaml
        ports:
          - "3100:3100"         

    grafana:
      image: grafana/grafana:latest
      ports:
        - "3000:3000"
      depends_on:
        - loki
